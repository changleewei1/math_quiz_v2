-- 國三理化上學期：章節與題型（依技能樹建立）
-- 章節 ID 規則：p3-{章}-{節}
-- 題型 ID 規則：{chapter_id}-{序號}

-- 1) 章節
INSERT INTO chapters (id, title, sort_order, is_active, grade_id, term)
VALUES
  ('p3-1-1', '時間的測量', 1, true, 'J3-SCI', 'upper'),
  ('p3-1-2', '位移與路徑長', 2, true, 'J3-SCI', 'upper'),
  ('p3-1-3', '速率與速度', 3, true, 'J3-SCI', 'upper'),
  ('p3-1-4', '加速度與等加速度運動', 4, true, 'J3-SCI', 'upper'),
  ('p3-2-1', '牛頓第一運動定律', 5, true, 'J3-SCI', 'upper'),
  ('p3-2-2', '牛頓第二運動定律', 6, true, 'J3-SCI', 'upper'),
  ('p3-2-3', '牛頓第三運動定律', 7, true, 'J3-SCI', 'upper'),
  ('p3-2-4', '圓周運動與萬有引力', 8, true, 'J3-SCI', 'upper'),
  ('p3-3-1', '功與功率', 9, true, 'J3-SCI', 'upper'),
  ('p3-3-2', '動能、位能與能量守恆', 10, true, 'J3-SCI', 'upper'),
  ('p3-3-3', '槓桿原理與靜力平衡', 11, true, 'J3-SCI', 'upper'),
  ('p3-3-4', '簡單機械', 12, true, 'J3-SCI', 'upper'),
  ('p3-4-1', '靜電現象', 13, true, 'J3-SCI', 'upper'),
  ('p3-4-2', '電流', 14, true, 'J3-SCI', 'upper'),
  ('p3-4-3', '電壓', 15, true, 'J3-SCI', 'upper'),
  ('p3-4-4', '歐姆定律與串並聯', 16, true, 'J3-SCI', 'upper')
ON CONFLICT (id) DO UPDATE SET
  title = EXCLUDED.title,
  sort_order = EXCLUDED.sort_order,
  is_active = EXCLUDED.is_active,
  grade_id = EXCLUDED.grade_id,
  term = EXCLUDED.term;

-- 2) 題型（依技能樹）
INSERT INTO question_types (id, chapter_id, name, code, description, sort_order, is_active)
VALUES
  -- 1-1 時間的測量
  ('p3-1-1-1', 'p3-1-1', '時間的物理意義', 'P3-1-1-01', '理解時間用來描述事件發生的先後與持續長短。', 1, true),
  ('p3-1-1-2', 'p3-1-1', '時間單位與換算', 'P3-1-1-02', '理解秒、分、時的關係，並能正確換算。', 2, true),
  ('p3-1-1-3', 'p3-1-1', '週期性現象與時間測量', 'P3-1-1-03', '理解時間測量常利用週期性現象（如擺動、轉動）。', 3, true),
  ('p3-1-1-4', 'p3-1-1', '時間間隔計算', 'P3-1-1-04', '能計算事件開始到結束的時間間隔。', 4, true),
  ('p3-1-1-5', 'p3-1-1', '不規則時間資料判讀', 'P3-1-1-05', '能由表格或描述判讀多段時間資料。', 5, true),
  ('p3-1-1-6', 'p3-1-1', '生活中的時間測量', 'P3-1-1-06', '能說明生活中測量時間的方法與用途。', 6, true),

  -- 1-2 位移與路徑長
  ('p3-1-2-1', 'p3-1-2', '路徑長的意義', 'P3-1-2-01', '理解路徑長是實際走過的距離總和。', 1, true),
  ('p3-1-2-2', 'p3-1-2', '位移的意義', 'P3-1-2-02', '理解位移是起點到終點的直線距離，具有方向。', 2, true),
  ('p3-1-2-3', 'p3-1-2', '位移可能為零的情況', 'P3-1-2-03', '理解回到原點時位移為零但路徑長不為零。', 3, true),
  ('p3-1-2-4', 'p3-1-2', '路徑長計算', 'P3-1-2-04', '能計算多段路徑的總路徑長。', 4, true),
  ('p3-1-2-5', 'p3-1-2', '直線位移計算', 'P3-1-2-05', '能在同一直線上計算位移大小與方向。', 5, true),
  ('p3-1-2-6', 'p3-1-2', '圖像中的位移判讀', 'P3-1-2-06', '能由簡單路徑圖判讀位移與路徑長。', 6, true),
  ('p3-1-2-7', 'p3-1-2', '生活中的位移與路徑比較', 'P3-1-2-07', '能用位移/路徑解釋生活移動情境。', 7, true),

  -- 1-3 速率與速度
  ('p3-1-3-1', 'p3-1-3', '速率的定義', 'P3-1-3-01', '理解速率=路徑長÷時間，只表示快慢。', 1, true),
  ('p3-1-3-2', 'p3-1-3', '速度的定義', 'P3-1-3-02', '理解速度=位移÷時間，具有方向。', 2, true),
  ('p3-1-3-3', 'p3-1-3', '平均速率概念', 'P3-1-3-03', '理解平均速率為總路徑長÷總時間。', 3, true),
  ('p3-1-3-4', 'p3-1-3', '速率基本計算', 'P3-1-3-04', '能計算速率、時間或距離。', 4, true),
  ('p3-1-3-5', 'p3-1-3', '平均速率計算', 'P3-1-3-05', '能計算含多段運動的平均速率。', 5, true),
  ('p3-1-3-6', 'p3-1-3', '速度方向判斷', 'P3-1-3-06', '能在直線運動中判斷速度方向。', 6, true),
  ('p3-1-3-7', 'p3-1-3', '交通工具的速率理解', 'P3-1-3-07', '能解讀車速表、限速意義。', 7, true),

  -- 1-4 加速度與等加速度運動
  ('p3-1-4-1', 'p3-1-4', '加速度的意義', 'P3-1-4-01', '理解加速度是速度改變的快慢。', 1, true),
  ('p3-1-4-2', 'p3-1-4', '速度改變即有加速度', 'P3-1-4-02', '理解只要速度大小或方向改變就有加速度。', 2, true),
  ('p3-1-4-3', 'p3-1-4', '等加速度運動概念', 'P3-1-4-03', '理解加速度固定的運動稱為等加速度運動。', 3, true),
  ('p3-1-4-4', 'p3-1-4', '加速度公式應用', 'P3-1-4-04', '能使用 a = (v − u) ÷ t 計算加速度。', 4, true),
  ('p3-1-4-5', 'p3-1-4', '減速運動的加速度判斷', 'P3-1-4-05', '能判斷減速時加速度方向與正負。', 5, true),
  ('p3-1-4-6', 'p3-1-4', '速度—時間圖判讀', 'P3-1-4-06', '能由 v–t 圖判斷加速度大小與方向。', 6, true),
  ('p3-1-4-7', 'p3-1-4', '自由落體的加速度理解', 'P3-1-4-07', '理解自由落體近似等加速度運動。', 7, true),
  ('p3-1-4-8', 'p3-1-4', '交通安全與加速度', 'P3-1-4-08', '能用加速度解釋煞車距離、安全設計。', 8, true),

  -- 2-1 牛頓第一運動定律
  ('p3-2-1-1', 'p3-2-1', '慣性的基本概念', 'P3-2-1-01', '理解物體會保持原來的運動狀態（靜止或等速直線運動）。', 1, true),
  ('p3-2-1-2', 'p3-2-1', '靜止也是一種運動狀態', 'P3-2-1-02', '理解靜止是相對於參考物的運動狀態。', 2, true),
  ('p3-2-1-3', 'p3-2-1', '等速直線運動的特性', 'P3-2-1-03', '理解等速直線運動代表速度大小與方向都不變。', 3, true),
  ('p3-2-1-4', 'p3-2-1', '合力為零的意義', 'P3-2-1-04', '理解合力為零時，運動狀態不改變。', 4, true),
  ('p3-2-1-5', 'p3-2-1', '平衡力的判斷', 'P3-2-1-05', '能判斷多個力是否互相平衡（合力=0）。', 5, true),
  ('p3-2-1-6', 'p3-2-1', '等速運動的受力分析', 'P3-2-1-06', '能判斷等速運動時各力大小關係。', 6, true),
  ('p3-2-1-7', 'p3-2-1', '慣性在生活中的表現', 'P3-2-1-07', '能用慣性解釋生活現象。', 7, true),
  ('p3-2-1-8', 'p3-2-1', '安全裝置與慣性', 'P3-2-1-08', '能解釋安全帶、頭枕的設計原理。', 8, true),

  -- 2-2 牛頓第二運動定律
  ('p3-2-2-1', 'p3-2-2', '力、質量與加速度關係', 'P3-2-2-01', '理解力會造成加速度，且與質量有關。', 1, true),
  ('p3-2-2-2', 'p3-2-2', '質量對運動的影響', 'P3-2-2-02', '理解質量越大，改變運動狀態越困難。', 2, true),
  ('p3-2-2-3', 'p3-2-2', '加速度與合力的關係', 'P3-2-2-03', '理解加速度方向與合力方向相同。', 3, true),
  ('p3-2-2-4', 'p3-2-2', 'F＝ma 公式應用', 'P3-2-2-04', '能正確使用 F＝ma 計算力、質量或加速度。', 4, true),
  ('p3-2-2-5', 'p3-2-2', '單位換算與代入', 'P3-2-2-05', '能正確處理 kg、N、m/s² 的單位。', 5, true),
  ('p3-2-2-6', 'p3-2-2', '多力情況下的合力計算', 'P3-2-2-06', '能先求合力再用 F＝ma。', 6, true),
  ('p3-2-2-7', 'p3-2-2', '加速與減速的實際判斷', 'P3-2-2-07', '能判斷加速、減速時力與運動方向關係。', 7, true),
  ('p3-2-2-8', 'p3-2-2', '交通安全與第二定律', 'P3-2-2-08', '能用 F＝ma 解釋車禍傷害差異。', 8, true),

  -- 2-3 牛頓第三運動定律
  ('p3-2-3-1', 'p3-2-3', '作用力與反作用力概念', 'P3-2-3-01', '理解力一定成對出現，大小相等方向相反。', 1, true),
  ('p3-2-3-2', 'p3-2-3', '作用力不會互相抵消', 'P3-2-3-02', '理解作用力與反作用力作用在不同物體上。', 2, true),
  ('p3-2-3-3', 'p3-2-3', '第三定律與運動無關', 'P3-2-3-03', '理解是否運動取決於第二定律，不是第三定律。', 3, true),
  ('p3-2-3-4', 'p3-2-3', '作用力配對判斷', 'P3-2-3-04', '能正確找出一對作用力與反作用力。', 4, true),
  ('p3-2-3-5', 'p3-2-3', '作用力大小方向描述', 'P3-2-3-05', '能正確描述大小相等、方向相反。', 5, true),
  ('p3-2-3-6', 'p3-2-3', '行走與跳躍的力學', 'P3-2-3-06', '能解釋走路、跳躍的反作用力來源。', 6, true),
  ('p3-2-3-7', 'p3-2-3', '火箭運動的原理', 'P3-2-3-07', '能用第三定律解釋火箭前進。', 7, true),

  -- 2-4 圓周運動與萬有引力
  ('p3-2-4-1', 'p3-2-4', '圓周運動的特性', 'P3-2-4-01', '理解圓周運動速度大小可相同但方向不斷改變。', 1, true),
  ('p3-2-4-2', 'p3-2-4', '向心力的概念', 'P3-2-4-02', '理解圓周運動需要向心力維持。', 2, true),
  ('p3-2-4-3', 'p3-2-4', '萬有引力的意義', 'P3-2-4-03', '理解任何物體間皆有引力存在。', 3, true),
  ('p3-2-4-4', 'p3-2-4', '天體運動與引力', 'P3-2-4-04', '理解行星繞行恆星與引力有關。', 4, true),
  ('p3-2-4-5', 'p3-2-4', '圓周運動受力判斷', 'P3-2-4-05', '能判斷圓周運動中向心力方向。', 5, true),
  ('p3-2-4-6', 'p3-2-4', '生活中的圓周運動', 'P3-2-4-06', '能舉生活中圓周運動例子並說明向心力來源。', 6, true),

  -- 3-1 功與功率
  ('p3-3-1-1', 'p3-3-1', '功的物理意義', 'P3-3-1-01', '理解功是力使物體產生位移所做的能量轉移。', 1, true),
  ('p3-3-1-2', 'p3-3-1', '未做功的情況', 'P3-3-1-02', '理解有力但沒有位移，或位移方向與力垂直時不做功。', 2, true),
  ('p3-3-1-3', 'p3-3-1', '功與能量的關係', 'P3-3-1-03', '理解做功會造成能量的改變或轉移。', 3, true),
  ('p3-3-1-4', 'p3-3-1', '功率的意義', 'P3-3-1-04', '理解功率表示做功快慢，而非做功多少。', 4, true),
  ('p3-3-1-5', 'p3-3-1', '功的計算公式', 'P3-3-1-05', '能使用 W＝F×d 計算功。', 5, true),
  ('p3-3-1-6', 'p3-3-1', '功率計算公式', 'P3-3-1-06', '能使用 P＝W÷t 計算功率。', 6, true),
  ('p3-3-1-7', 'p3-3-1', '同功不同功率比較', 'P3-3-1-07', '能比較做功相同但時間不同的功率。', 7, true),
  ('p3-3-1-8', 'p3-3-1', '生活中的功與功率', 'P3-3-1-08', '能解釋電器、運動中的功率意義。', 8, true),

  -- 3-2 動能、位能與能量守恆
  ('p3-3-2-1', 'p3-3-2', '動能的意義', 'P3-3-2-01', '理解物體因運動而具有的能量稱為動能。', 1, true),
  ('p3-3-2-2', 'p3-3-2', '影響動能的因素', 'P3-3-2-02', '理解動能與質量、速度有關。', 2, true),
  ('p3-3-2-3', 'p3-3-2', '位能的意義', 'P3-3-2-03', '理解物體因位置或狀態而具有的能量。', 3, true),
  ('p3-3-2-4', 'p3-3-2', '重力位能的概念', 'P3-3-2-04', '理解物體因高度而具有的位能。', 4, true),
  ('p3-3-2-5', 'p3-3-2', '能量守恆定律', 'P3-3-2-05', '理解能量不會消失，只會轉換形式。', 5, true),
  ('p3-3-2-6', 'p3-3-2', '能量轉換的判斷', 'P3-3-2-06', '能判斷動能與位能之間的轉換。', 6, true),
  ('p3-3-2-7', 'p3-3-2', '能量守恆的定性推論', 'P3-3-2-07', '能在無計算下用守恆判斷大小關係。', 7, true),
  ('p3-3-2-8', 'p3-3-2', '遊樂設施的能量分析', 'P3-3-2-08', '能用能量轉換解釋雲霄飛車等。', 8, true),
  ('p3-3-2-9', 'p3-3-2', '生活中的能量守恆', 'P3-3-2-09', '能舉生活中能量轉換例子。', 9, true),

  -- 3-3 槓桿原理與靜力平衡
  ('p3-3-3-1', 'p3-3-3', '槓桿的基本結構', 'P3-3-3-01', '理解槓桿包含支點、施力點、抗力點。', 1, true),
  ('p3-3-3-2', 'p3-3-3', '力臂的意義', 'P3-3-3-02', '理解力臂是力作用線到支點的垂直距離。', 2, true),
  ('p3-3-3-3', 'p3-3-3', '槓桿平衡條件', 'P3-3-3-03', '理解平衡時施力矩＝抗力矩。', 3, true),
  ('p3-3-3-4', 'p3-3-3', '力矩計算', 'P3-3-3-04', '能計算力矩＝力×力臂。', 4, true),
  ('p3-3-3-5', 'p3-3-3', '槓桿平衡計算', 'P3-3-3-05', '能用平衡條件求未知力或力臂。', 5, true),
  ('p3-3-3-6', 'p3-3-3', '三種槓桿分類判斷', 'P3-3-3-06', '能判斷第一、二、三類槓桿。', 6, true),
  ('p3-3-3-7', 'p3-3-3', '生活中的槓桿應用', 'P3-3-3-07', '能解釋工具省力原理。', 7, true),
  ('p3-3-3-8', 'p3-3-3', '靜力平衡的實際判斷', 'P3-3-3-08', '能判斷物體是否達到靜力平衡。', 8, true),

  -- 3-4 簡單機械
  ('p3-3-4-1', 'p3-3-4', '簡單機械的意義', 'P3-3-4-01', '理解簡單機械能改變施力大小或方向。', 1, true),
  ('p3-3-4-2', 'p3-3-4', '機械利益概念', 'P3-3-4-02', '理解機械利益代表省力程度。', 2, true),
  ('p3-3-4-3', 'p3-3-4', '不省功的概念', 'P3-3-4-03', '理解簡單機械不會省功，只會省力或改變方向。', 3, true),
  ('p3-3-4-4', 'p3-3-4', '滑輪系統的判斷', 'P3-3-4-04', '能判斷定滑輪、動滑輪的作用。', 4, true),
  ('p3-3-4-5', 'p3-3-4', '機械利益的計算', 'P3-3-4-05', '能計算機械利益（理想狀況）。', 5, true),
  ('p3-3-4-6', 'p3-3-4', '生活中的簡單機械', 'P3-3-4-06', '能辨認生活中使用的簡單機械。', 6, true),

  -- 4-1 靜電現象
  ('p3-4-1-1', 'p3-4-1', '靜電的基本概念', 'P3-4-1-01', '理解靜電是物體因電荷不平衡所產生的現象。', 1, true),
  ('p3-4-1-2', 'p3-4-1', '電荷的種類', 'P3-4-1-02', '理解電荷分為正電與負電兩種。', 2, true),
  ('p3-4-1-3', 'p3-4-1', '同性相斥、異性相吸', 'P3-4-1-03', '理解相同電荷互相排斥，不同電荷互相吸引。', 3, true),
  ('p3-4-1-4', 'p3-4-1', '摩擦起電原理', 'P3-4-1-04', '理解摩擦起電是電子轉移造成。', 4, true),
  ('p3-4-1-5', 'p3-4-1', '導體與絕緣體', 'P3-4-1-05', '理解導體易讓電荷移動，絕緣體不易。', 5, true),
  ('p3-4-1-6', 'p3-4-1', '靜電吸引與排斥判斷', 'P3-4-1-06', '能依電荷種類判斷吸引或排斥。', 6, true),
  ('p3-4-1-7', 'p3-4-1', '生活中的靜電現象', 'P3-4-1-07', '能解釋生活中常見靜電例子。', 7, true),
  ('p3-4-1-8', 'p3-4-1', '靜電的危害與防治', 'P3-4-1-08', '能說明靜電放電的危險與預防方式。', 8, true),

  -- 4-2 電流
  ('p3-4-2-1', 'p3-4-2', '電流的意義', 'P3-4-2-01', '理解電流是電荷的定向移動。', 1, true),
  ('p3-4-2-2', 'p3-4-2', '電流方向的定義', 'P3-4-2-02', '理解電流方向定義為正電流方向。', 2, true),
  ('p3-4-2-3', 'p3-4-2', '電路形成條件', 'P3-4-2-03', '理解形成電流需完整閉合電路。', 3, true),
  ('p3-4-2-4', 'p3-4-2', '串聯電路中的電流特性', 'P3-4-2-04', '理解串聯電路中各處電流相同。', 4, true),
  ('p3-4-2-5', 'p3-4-2', '電流單位與量測', 'P3-4-2-05', '能說明電流單位安培，並理解電流表用途。', 5, true),
  ('p3-4-2-6', 'p3-4-2', '簡單電路電流判斷', 'P3-4-2-06', '能判斷燈泡亮度與電流大小關係。', 6, true),
  ('p3-4-2-7', 'p3-4-2', '家庭用電的電流概念', 'P3-4-2-07', '能解釋家庭用電與電流大小關係。', 7, true),

  -- 4-3 電壓
  ('p3-4-3-1', 'p3-4-3', '電壓的意義', 'P3-4-3-01', '理解電壓是推動電流流動的原因。', 1, true),
  ('p3-4-3-2', 'p3-4-3', '電池與電壓關係', 'P3-4-3-02', '理解電池提供固定電壓。', 2, true),
  ('p3-4-3-3', 'p3-4-3', '串聯電路的電壓分配', 'P3-4-3-03', '理解串聯電路中電壓會分配。', 3, true),
  ('p3-4-3-4', 'p3-4-3', '電壓量測方式', 'P3-4-3-04', '能正確使用電壓表並理解並聯量測。', 4, true),
  ('p3-4-3-5', 'p3-4-3', '簡單電壓判斷題', 'P3-4-3-05', '能判斷不同接法下的電壓大小。', 5, true),
  ('p3-4-3-6', 'p3-4-3', '生活中的電壓概念', 'P3-4-3-06', '能解釋插座電壓與安全關係。', 6, true),

  -- 4-4 歐姆定律與串並聯
  ('p3-4-4-1', 'p3-4-4', '電阻的意義', 'P3-4-4-01', '理解電阻表示阻礙電流流動的程度。', 1, true),
  ('p3-4-4-2', 'p3-4-4', '歐姆定律概念', 'P3-4-4-02', '理解 V＝IR 表示電壓、電流、電阻的關係。', 2, true),
  ('p3-4-4-3', 'p3-4-4', '歐姆定律計算', 'P3-4-4-03', '能使用 V＝IR 計算 V、I 或 R。', 3, true),
  ('p3-4-4-4', 'p3-4-4', '串聯電路電阻計算', 'P3-4-4-04', '能計算串聯總電阻。', 4, true),
  ('p3-4-4-5', 'p3-4-4', '並聯電路電阻概念', 'P3-4-4-05', '理解並聯會減小總電阻（定性）。', 5, true),
  ('p3-4-4-6', 'p3-4-4', '串並聯混合題判斷', 'P3-4-4-06', '能判斷題目中電路類型並選對公式。', 6, true),
  ('p3-4-4-7', 'p3-4-4', '家庭電路為何用並聯', 'P3-4-4-07', '能解釋家庭用電並聯的原因。', 7, true),
  ('p3-4-4-8', 'p3-4-4', '電路安全與保護', 'P3-4-4-08', '能解釋保險絲、斷路器原理。', 8, true)
ON CONFLICT (id) DO UPDATE SET
  chapter_id = EXCLUDED.chapter_id,
  name = EXCLUDED.name,
  code = EXCLUDED.code,
  description = EXCLUDED.description,
  sort_order = EXCLUDED.sort_order,
  is_active = EXCLUDED.is_active;


