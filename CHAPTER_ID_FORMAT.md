# 章節ID命名規則

## 📋 命名格式

系統使用統一的章節ID命名規則，格式如下：

```
{科目前綴}{年級}-{章}-{節}-{題型}
```

## 🔤 科目前綴

- **`m`** = 數學 (Math)
- **`p`** = 理化 (Physics)

## 📚 範例

### 數學章節

- `m1-1-1-1` = 數學國一第一章第一節第一種題型
- `m1-1-1-2` = 數學國一第一章第一節第二種題型
- `m1-2-1-1` = 數學國一第二章第一節第一種題型
- `m2-1-1-1` = 數學國二第一章第一節第一種題型
- `m3-1-1-1` = 數學國三第一章第一節第一種題型

### 理化章節

- `p2-1-1-1` = 理化國二第一章第一節第一種題型
- `p2-1-1-2` = 理化國二第一章第一節第二種題型
- `p2-2-1-1` = 理化國二第二章第一節第一種題型
- `p3-1-1-1` = 理化國三第一章第一節第一種題型
- `p3-1-2-1` = 理化國三第一章第二節第一種題型

## 🔍 過濾規則

系統會根據以下規則自動過濾章節：

- **數學國一**：只顯示以 `m1-` 開頭的章節
- **數學國二**：只顯示以 `m2-` 開頭的章節
- **數學國三**：只顯示以 `m3-` 開頭的章節
- **理化國二**：只顯示以 `p2-` 開頭的章節
- **理化國三**：只顯示以 `p3-` 開頭的章節

## 📝 後台建立章節時注意事項

### 1. 章節ID格式

請嚴格遵循命名格式，例如：
- ✅ 正確：`m1-1-1-1`, `m2-3-2-1`, `p2-1-1-1`, `p3-2-1-2`
- ❌ 錯誤：`1-1-1-1`, `math-1-1-1`, `phy-2-1-1`, `m1_1_1_1`

### 2. 科目前綴

- 數學章節：**必須**以 `m` 開頭
- 理化章節：**必須**以 `p` 開頭

### 3. 年級編號

- 國一 = `1`
- 國二 = `2`
- 國三 = `3`

### 4. 完整範例

在後台建立章節時，建議使用以下格式：

**數學國一第一章：**
- 章節ID：`m1-1`
- 章節標題：第一章 代數式

**數學國一第一章第一節：**
- 章節ID：`m1-1-1`
- 章節標題：1-1 變數與常數

**數學國一第一章第一節第一種題型：**
- 章節ID：`m1-1-1-1`
- 章節標題：變數與常數概念

**理化國二第一章：**
- 章節ID：`p2-1`
- 章節標題：第一章 基礎測量

**理化國二第一章第一節：**
- 章節ID：`p2-1-1`
- 章節標題：1-1 長度與體積

## ⚠️ 重要提醒

1. **必須使用小寫字母**：`m` 和 `p` 必須是小寫
2. **使用連字號分隔**：各部分之間使用 `-` 分隔，不要使用底線或其他符號
3. **年級數字必須正確**：確保年級數字與實際年級相符
4. **一致性**：同一科目的所有章節應使用相同的前綴格式

## 🔄 遷移現有資料

如果您有舊的章節ID，需要按照新規則更新：

- 舊格式 `1-1-1-1` → 新格式 `m1-1-1-1`（數學國一）
- 舊格式 `2-1-1-1` → 新格式 `m2-1-1-1`（數學國二）或 `p2-1-1-1`（理化國二）
- 舊格式 `3-1-1-1` → 新格式 `m3-1-1-1`（數學國三）或 `p3-1-1-1`（理化國三）

**建議**：在 Supabase 中執行 SQL 更新語句來批量更新章節ID。


